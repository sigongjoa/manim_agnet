
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Trig Visualization</title>
    <style>
        body { margin: 0; font-family: sans-serif; text-align: center; background-color: #111; color: #eee; }
        canvas { display: block; }
        #controls {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
        }
        input[type="range"] {
            width: 50%;
        }
        label {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    <div id="controls">
        <label for="angle_slider">θ = 0.00 rad</label>
        <br>
        <input type="range" id="angle_slider" min="0" max="360" value="0" step="1">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script id="scene-data" type="application/json">
        {"unit_circle": {"center": [-4.0, 0.0, 0.0], "radius": 1.5, "x_axis": {"start": [-6.0, 0.0, 0.0], "end": [-2.0, 0.0, 0.0]}, "y_axis": {"start": [-4.0, -2.0, 0.0], "end": [-4.0, 2.0, 0.0]}}, "sine_graph": {"origin": [1, 0, 0], "points": [[1.0, 0.0, 0.0], [1.0174532925199432, 0.02617327492794684, 0.0], [1.0349065850398865, 0.05232110103299926, 0.0], [1.0523598775598298, 0.07841804041578104, 0.0], [1.069813170079773, 0.10443867619953239, 0.0], [1.0872664625997162, 0.1303576127351838, 0.0], [1.1047197551196595, 0.1561494854221659, 0.0], [1.1221730476396027, 0.1817890510599911, 0.0], [1.139626340159546, 0.20725118017340145, 0.0], [1.1570796326794892, 0.23251086611005434, 0.0], [1.1745329251994325, 0.2575432341303396, 0.0], [1.1919862177193757, 0.2823235511859934, 0.0], [1.209439510239319, 0.3068272261218912, 0.0], [1.2268928027592622, 0.3310298101213335, 0.0], [1.2443460952792054, 0.3549070071782431, 0.0], [1.2617993877991487, 0.3784346821416218, 0.0], [1.279252680319092, 0.4015889391111535, 0.0], [1.2967059728390352, 0.4243461221249395, 0.0], [1.3141592653589784, 0.4466827941994301, 0.0], [1.3316125578789217, 0.468575748211603, 0.0], [1.3490658503988649, 0.4900020963038879, 0.0], [1.366519142918808, 0.510939281112024, 0.0], [1.3839724354387513, 0.5313651748698836, 0.0], [1.4014257279586945, 0.5512579811184122, 0.0], [1.4188790204786378, 0.570596233256189, 0.0], [1.436332312998581, 0.5893588022093182, 0.0], [1.4537856055185243, 0.607524897296101, 0.0], [1.4712388980384675, 0.6250741552033493, 0.0], [1.4886921905584108, 0.6419866411183143, 0.0], [1.506145483078354, 0.6582428469239443, 0.0], [1.5235987755982973, 0.673823702863499, 0.0], [1.5410520681182405, 0.688710577443699, 0.0], [1.5585053606381838, 0.702885369725844, 0.0], [1.575958653158127, 0.7163305104284465, 0.0], [1.5934119456780703, 0.729029054581181, 0.0], [1.6108652381980135, 0.7409646811139785, 0.0], [1.6283185307179568, 0.752121702155491, 0.0], [1.6457718232379, 0.7624850531181537, 0.0], [1.6632251157578432, 0.7720401928857988, 0.0], [1.6806784082777865, 0.7807731132099345, 0.0], [1.6981317007977297, 0.7886703331934493, 0.0], [1.715584993317673, 0.7957190996244912, 0.0], [1.7330382858376162, 0.8019075012193306, 0.0], [1.7504915783575595, 0.8072247584163795, 0.0], [1.7679448708775027, 0.8116612192432132, 0.0], [1.785398163397446, 0.8152083587193962, 0.0], [1.8028514559173892, 0.8178588807026595, 0.0], [1.8203047484373325, 0.8196067101218831, 0.0], [1.8377580409572757, 0.8204470828134643, 0.0], [1.855211333477219, 0.8203765488524621, 0.0], [1.8726646259971622, 0.8193929721512011, 0.0], [1.8901179185171055, 0.8174955291654313, 0.0], [1.9075712110370487, 0.8146847112563147, 0.0], [1.925024503556992, 0.8109622231483866, 0.0], [1.9424777960769352, 0.8063309821952943, 0.0], [1.9599310885968785, 0.800795118311142, 0.0], [1.9773843811168217, 0.7943599727999324, 0.0], [1.994837673636765, 0.7870320994483443, 0.0], [2.012290966156708, 0.7788192611172252, 0.0], [2.0297442586766514, 0.7697303398869483, 0.0], [2.0471975511965947, 0.7597744360918803, 0.0], [2.064650843716538, 0.7489618683439331, 0.0], [2.082104136236481, 0.7372932682923567, 0.0], [2.0995574287564243, 0.724779481293833, 0.0], [2.1170107212763675, 0.711431665242207, 0.0], [2.134464013796311, 0.6972612811815345, 0.0], [2.1519173063162543, 0.6822800831902644, 0.0], [2.1693705988361975, 0.666500120258992, 0.0], [2.1868238913561406, 0.6499337344795434, 0.0], [2.204277183876084, 0.632593459423146, 0.0], [2.2217304763960273, 0.6144920211442315, 0.0], [2.2391837689159705, 0.5956423384895249, 0.0], [2.256637061435914, 0.5760575198104087, 0.0], [2.274090353955857, 0.555750865051903, 0.0], [2.2915436464758003, 0.5347358642533424, 0.0], [2.3089969389957435, 0.5130261963539233, 0.0], [2.326450231515687, 0.4906357280721114, 0.0], [2.34390352403563, 0.4675784151842314, 0.0], [2.3613568165555733, 0.4438683028351309, 0.0], [2.3788101090755165, 0.419520450867052, 0.0], [2.39626340159546, 0.3945491329479769, 0.0], [2.413716694115403, 0.3689714323462188, 0.0], [2.4311699866353463, 0.3428028940008671, 0.0], [2.4486232791552895, 0.3160596412805348, 0.0], [2.466076571675233, 0.2887579145778343, 0.0], [2.483529864195176, 0.2609140711482231, 0.0], [2.5009831567151193, 0.2325445778392919, 0.0], [2.5184364492350625, 0.20366601325933403, 0.0], [2.535889741755006, 0.1742950713582109, 0.0], [2.553343034274949, 0.1444485563270385, 0.0], [2.5707963267948924, 0.11414338811352082, 0.0], [2.5882496193148356, 0.08339661184205331, 0.0], [2.605702911834779, 0.05222538479099084, 0.0], [2.623156204354722, 0.02064697843870965, 0.0], [2.6406094968746653, -0.01130051652278661, 0.0], [2.6580627893946085, -0.04359988833456811, 0.0], [2.675516081914552, -0.0762340431372549, 0.0], [2.692969374434495, -0.1091859140859141, 0.0], [2.7104226669544383, -0.1424384572648162, 0.0], [2.7278759594743815, -0.17597465452656873, 0.0], [2.745329251994325, -0.2097775203341574, 0.0], [2.762782544514268, -0.24382911236508123, 0.0], [2.7802358370342113, -0.2781115347280721, 0.0], [2.7976891295541545, -0.3126069448750605, 0.0], [2.815142422074098, -0.3472975400937477, 0.0], [2.832595714594041, -0.3821655524287558, 0.0], [2.8500490071139843, -0.4171932503906811, 0.0], [2.8675022996339275, -0.4523629479768786, 0.0], [2.884955592153871, -0.4876570050797718, 0.0], [2.902408884673814, -0.5230578318501811, 0.0], [2.9198621771937573, -0.5585479768786128, 0.0], [2.9373154697137005, -0.5941100462427746, 0.0], [2.954768762233644, -0.6297267201836157, 0.0], [2.972222054753587, -0.6653807496093193, 0.0], [2.9896753472735303, -0.7010549646136998, 0.0], [3.0071286397934735, -0.7367322801788357, 0.0], [3.024581932313417, -0.7723956963049395, 0.0], [3.04203522483336, -0.8080282813462188, 0.0], [3.0594885173533033, -0.8436132098781088, 0.0], [3.0769418098732465, -0.8791337201836157, 0.0], [3.09439510239319, -0.9145731123650812, 0.0], [3.111848394913133, -0.9499147938709068, 0.0], [3.1293016874330763, -0.9851422746198258, 0.0], [3.1467549799530195, -1.0202391813462188, 0.0], [3.164208272472963, -1.0551892883906811, 0.0], [3.181661564992906, -1.0899765114962427, 0.0], [3.1991148575128493, -1.1245849646136998, 0.0], [3.2165681500327925, -1.1589989634980721, 0.0], [3.234021442552736, -1.1932030551249395, 0.0], [3.251474735072679, -1.2271820471376184, 0.0], [3.2689280275926223, -1.2609209848157687, 0.0], [3.2863813201125655, -1.2944051474774593, 0.0], [3.303834612632509, -1.3276200507977184, 0.0], [3.321287905152452, -1.3605514747745933, 0.0], [3.3387411976723953, -1.3931854734311504, 0.0], [3.3561944901923385, -1.4255084085914085, 0.0], [3.373647782712282, -1.4575069448750605, 0.0], [3.391101075232225, -1.4891681498188153, 0.0], [3.4085543677521683, -1.5204794713761314, 0.0], [3.4260076602721115, -1.551428755688496, 0.0], [3.443460952792055, -1.5820042181498188, 0.0], [3.460914245311998, -1.6121944475712442, 0.0], [3.4783675378319413, -1.6419883300249395, 0.0], [3.4958208303518845, -1.6713750114962427, 0.0], [3.513274122871828, -1.7003439662745933, 0.0], [3.530727415391771, -1.7288849646136998, 0.0], [3.5481807079117143, -1.7569881036501928, 0.0], [3.5656340004316575, -1.784643781850181, 0.0], [3.583087292951601, -1.8118426975060338, 0.0], [3.600540585471544, -1.838575748211603, 0.0], [3.6179938779914873, -1.8648341574774593, 0.0], [3.6354471705114305, -1.8906094960931886, 0.0], [3.652900463031374, -1.9158936411184122, 0.0], [3.670353755551317, -1.9406787807567868, 0.0], [3.6878070480712603, -1.964957477459334, 0.0], [3.7052603405912035, -1.9887226152090092, 0.0], [3.722713633111147, -2.011967378185018, 0.0], [3.7401669256310903, -2.0346852428217567, 0.0], [3.7576202181510335, -2.0568700507977184, 0.0], [3.775073510670977, -2.078515914085914, 0.0], [3.79252680319092, -2.0996172253801746, 0.0], [3.8099800957108633, -2.120168610711603, 0.0], [3.8274333882308065, -2.1401650114962427, 0.0], [3.84488668075075, -2.159601680554975, 0.0], [3.8623399732707004, -2.1784741574774593, 0.0], [3.8797932657906435, -2.1967782813462188, 0.0], [3.897246558310587, -2.2145101928217567, 0.0], [3.91469985083053, -2.231666317858378, 0.0], [3.9321531433504737, -2.2482433881586304, 0.0], [3.949606435870417, -2.2642384475712442, 0.0], [3.96705972839036, -2.279648850353869, 0.0], [3.9845130209103035, -2.294472253801746, 0.0], [4.001966313430247, -2.3087066118413696, 0.0], [4.0194196059501905, -2.322350093747746, 0.0], [4.036872898470133, -2.3354010854701928, 0.0], [4.054326190990077, -2.3478582813462188, 0.0], [4.07177948351002, -2.3597206761995324, 0.0], [4.089232776029963, -2.370987555688496, 0.0], [4.106686068549907, -2.3816584085914085, 0.0], [4.12413936106985, -2.3917329479768786, 0.0], [4.141592653589793, -2.4012111699750605, 0.0], [4.159045946109736, -2.410093250390681, 0.0], [4.176499238629679, -2.418379641118412, 0.0], [4.193952531149623, -2.426071010365081, 0.0], [4.2114058236695655, -2.4331682898781088, 0.0], [4.2288591161895095, -2.4396726152090092, 0.0], [4.2463124087094535, -2.445585345473431, 0.0], [4.263765701229397, -2.4509079811184122, 0.0], [4.28121899374934, -2.4556421813462188, 0.0], [4.298672286269283, -2.4597897477459334, 0.0], [4.316125578789226, -2.463352621814982, 0.0], [4.33357887130917, -2.466332887634919, 0.0], [4.351032163829112, -2.4687327538004676, 0.0], [4.368485456349056, -2.470554563906811, 0.0], [4.385938748868999, -2.4718007977186537, 0.0], [4.403392041388942, -2.472474085914086, 0.0], [4.420845333908885, -2.4725771865378185, 0.0], [4.438298626428829, -2.472112972151201, 0.0], [4.455751918948772, -2.4710844475712442, 0.0], [4.473205211468716, -2.469494713761314, 0.0], [4.490658503988659, -2.467347014988504, 0.0], [4.508111796508603, -2.4646447186537818, 0.0], [4.525565089028546, -2.461391290121883, 0.0], [4.543018381548489, -2.4575903072660897, 0.0], [4.560471674068432, -2.453245463498072, 0.0], [4.577924966588375, -2.4483605768573518, 0.0], [4.595378259108319, -2.442939584218912, 0.0], [4.612831551628261, -2.4369865454188153, 0.0], [4.630284844148205, -2.430505640258992, 0.0], [4.647738136668149, -2.4234911680973518, 0.0], [4.665191429188092, -2.4159475511965945, 0.0], [4.682644721708035, -2.4078793347571244, 0.0], [4.7000980142279785, -2.39929120258992, 0.0], [4.717551306747922, -2.3901879768786128, 0.0], [4.7350045992678655, -2.3805746152090092, 0.0], [4.752457891787808, -2.3704562000663978, 0.0], [4.769911184307752, -2.3598379489400086, 0.0], [4.787364476827695, -2.348725198104086, 0.0], [4.804817769347638, -2.337123413425244, 0.0], [4.822271061867582, -2.325038105676658, 0.0], [4.839724354387525, -2.3124748430524098, 0.0], [4.857177646907468, -2.299439288390681, 0.0], [4.874630939427412, -2.285937201836157, 0.0], [4.892084231947354, -2.271974450298072, 0.0], [4.909537524467298, -2.2575569448750605, 0.0], [4.926990816987241, -2.242690644790991, 0.0], [4.9444441095071845, -2.2273815914085914, 0.0], [4.9618974020271285, -2.211635914085914, 0.0], [4.979350694547071, -2.1954607116093193, 0.0], [4.996803987067015, -2.1788629479768786, 0.0], [5.014257279586958, -2.16185242875563, 0.0], [5.031710572106902, -2.1444218134621886, 0.0], [5.049163864626845, -2.1265781865378185, 0.0], [5.066617157146788, -2.108328641118412, 0.0], [5.084070449666731, -2.089680358881588, 0.0], [5.101523742186674, -2.0706405999336025, 0.0], [5.118977034706617, -2.051216710121883, 0.0], [5.136430327226561, -2.0314161184136998, 0.0], [5.153883619746504, -2.0112463498072644, 0.0], [5.171336912266447, -1.9907149885037573, 0.0], [5.1887902047863905, -1.9698296411184122, 0.0], [5.206243497306334, -1.9485980114962427, 0.0], [5.223696789826278, -1.927027887634919, 0.0], [5.241150082346221, -1.9051271574774593, 0.0], [5.258603374866164, -1.882803781850181, 0.0], [5.276056667386108, -1.8601658425225407, 0.0], [5.293509959906051, -1.837121542734587, 0.0], [5.310963252425994, -1.8136791813462188, 0.0], [5.328416544945937, -1.7898471574774593, 0.0], [5.34586983746588, -1.7656339662745933, 0.0], [5.363323129985823, -1.7410482098781088, 0.0], [5.380776422505767, -1.7160985854701928, 0.0], [5.39822971502571, -1.6907939662745933, 0.0], [5.4156830075456535, -1.6651433881586304, 0.0], [5.4331363000655974, -1.639155914085914, 0.0], [5.4505895925855405, -1.6128407116093193, 0.0], [5.468042885105484, -1.5862070050797718, 0.0], [5.485496177625427, -1.5592640711482232, 0.0], [5.50294947014537, -1.5320212365019279, 0.0], [5.520402762665314, -1.5044878634980721, 0.0], [5.537856055185257, -1.4766734475712442, 0.0], [5.5553093477052, -1.448587555688496, 0.0], [5.572762640225143, -1.4202398883345687, 0.0], [5.590215932745086, -1.3916402253801746, 0.0], [5.607669225265029, -1.3628, 0.0], [5.625122517784973, -1.3337251569475902, 0.0], [5.642575810304916, -1.304425406639741, 0.0], [5.66002910282486, -1.2748804599913294, 0.0], [5.6774823953448035, -1.2450999336025899, 0.0], [5.694935687864747, -1.2150934475712442, 0.0], [5.71238898038469, -1.184870610711603, 0.0], [5.729842272904633, -1.1544409489400086, 0.0], [5.747295565424576, -1.123814085914086, 0.0], [5.764748857944519, -1.0929996411184122, 0.0], [5.782202150464463, -1.061907238216091, 0.0], [5.799655442984406, -1.0306465114962427, 0.0], [5.81710873550435, -0.9992270994487506, 0.0], [5.834562028024293, -0.967658641118412, 0.0], [5.852015320544236, -0.9359507818501811, 0.0], [5.869468613064179, -0.9041131798163843, 0.0], [5.886921905584122, -0.8721555029807209, 0.0], [5.9043751981040655, -0.8400874345473431, 0.0], [5.9218284906240095, -0.807918666806551, 0.0], [5.939281783143953, -0.7756588989634981, 0.0], [5.956735075663896, -0.7433178318501811, 0.0], [5.974188368183839, -0.7109051748698836, 0.0], [5.991641660703782, -0.6784306447909908, 0.0], [6.009094953223726, -0.6459040608881588, 0.0], [6.026548245743669, -0.6133352428217567, 0.0], [6.044001538263612, -0.5807339140859141, 0.0], [6.061454830783556, -0.5481097938709068, 0.0], [6.078908123303499, -0.5154725999336025, 0.0], [6.096361415823442, -0.4828320471376184, 0.0], [6.113814708343385, -0.4501978557687816, 0.0], [6.1312680008633285, -0.4175797410070809, 0.0], [6.148721293383272, -0.3849874157810879, 0.0], [6.1661745859032155, -0.3524305865747557, 0.0], [6.183627878423159, -0.3199189634980721, 0.0], [6.201081170943102, -0.287462253801746, 0.0], [6.218534463463046, -0.2550701569475902, 0.0], [6.235987755982989, -0.2227523650192791, 0.0], [6.253441048502932, -0.19051856765378185, 0.0], [6.270894341022875, -0.1583784572648162, 0.0], [6.288347633542818, -0.1263417201836157, 0.0], [6.305800926062762, -0.09441804041578104, 0.0], [6.323254218582705, -0.0626170996244912, 0.0], [6.340707511102648, -0.0309485563270385, 0.0], [6.358160803622591, 2.2449293593294525e-16, 0.0], [6.3756140961425345, 0.03094855632703886, 0.0], [6.393067388662478, 0.0626170996244912, 0.0], [6.410520681182422, 0.09441804041578104, 0.0], [6.427973973702365, 0.1263417201836157, 0.0], [6.445427266222309, 0.1583784572648162, 0.0], [6.462880558742252, 0.19051856765378185, 0.0], [6.480333851262195, 0.2227523650192791, 0.0], [6.497787143782138, 0.2550701569475902, 0.0], [6.515240436302081, 0.287462253801746, 0.0], [6.532693728822024, 0.3199189634980721, 0.0], [6.550147021341967, 0.3524305865747557, 0.0], [6.567600313861911, 0.3849874157810879, 0.0], [6.585053606381854, 0.4175797410070809, 0.0], [6.602506898901798, 0.4501978557687816, 0.0], [6.619960191421741, 0.4828320471376184, 0.0], [6.6374134839416845, 0.5154725999336025, 0.0], [6.654866776461628, 0.5481097938709068, 0.0], [6.672320068981571, 0.5807339140859141, 0.0], [6.689773361501514, 0.6133352428217567, 0.0], [6.707226654021458, 0.6459040608881588, 0.0], [6.724679946541401, 0.6784306447909908, 0.0], [6.742133239061344, 0.7109051748698836, 0.0], [6.759586531581287, 0.7433178318501811, 0.0], [6.77703982410123, 0.7756588989634981, 0.0], [6.794493116621174, 0.807918666806551, 0.0], [6.811946409141117, 0.8400874345473431, 0.0], [6.82939970166106, 0.8721555029807209, 0.0], [6.846852994181004, 0.9041131798163843, 0.0], [6.8643062867009474, 0.9359507818501811, 0.0], [6.8817595792208905, 0.967658641118412, 0.0], [6.899212871740834, 0.9992270994487506, 0.0], [6.916666164260777, 1.0306465114962427, 0.0], [6.93411945678072, 1.061907238216091, 0.0], [6.951572749300664, 1.0929996411184122, 0.0], [6.969026041820607, 1.123814085914086, 0.0], [6.98647933434055, 1.1544409489400086, 0.0], [7.003932626860494, 1.184870610711603, 0.0], [7.021385919380437, 1.2150934475712442, 0.0], [7.03883921190038, 1.2450999336025899, 0.0], [7.056292504420323, 1.2748804599913294, 0.0], [7.073745796940266, 1.304425406639741, 0.0], [7.09119908946021, 1.3337251569475902, 0.0], [7.1086523819801535, 1.3628, 0.0], [7.126105674500097, 1.3916402253801746, 0.0], [7.14355896702004, 1.4202398883345687, 0.0], [7.161012259539983, 1.448587555688496, 0.0], [7.178465552059926, 1.4766734475712442, 0.0], [7.19591884457987, 1.5044878634980721, 0.0], [7.213372137099813, 1.5320212365019279, 0.0], [7.230825429619757, 1.5592640711482232, 0.0], [7.2482787221397, 1.5862070050797718, 0.0], [7.265732014659643, 1.6128407116093193, 0.0], [7.283185307179586, 1.639155914085914, 0.0], [7.300638599699529, 1.6651433881586304, 0.0], [7.318091892219473, 1.6907939662745933, 0.0], [7.335545184739416, 1.7160985854701928, 0.0], [7.352998477259359, 1.7410482098781088, 0.0], [7.370451769779302, 1.7656339662745933, 0.0], [7.387905062299246, 1.7898471574774593, 0.0], [7.405358354819189, 1.8136791813462188, 0.0], [7.422811647339132, 1.837121542734587, 0.0], [7.440264939859075, 1.8601658425225407, 0.0], [7.457718232379019, 1.882803781850181, 0.0], [7.475171524898962, 1.9051271574774593, 0.0], [7.492624817418905, 1.927027887634919, 0.0], [7.510078109938848, 1.9485980114962427, 0.0], [7.527531402458792, 1.9698296411184122, 0.0], [7.544984694978735, 1.9907149885037573, 0.0], [7.562437987498678, 2.0112463498072644, 0.0], [7.579891280018621, 2.0314161184136998, 0.0], [7.597344572538565, 2.051216710121883, 0.0], [7.614797865058508, 2.0706405999336025, 0.0], [7.632251157578451, 2.089680358881588, 0.0], [7.649704450098395, 2.108328641118412, 0.0], [7.667157742618338, 2.1265781865378185, 0.0], [7.684611035138281, 2.1444218134621886, 0.0], [7.702064327658224, 2.16185242875563, 0.0], [7.719517620178168, 2.1788629479768786, 0.0], [7.736970912698111, 2.1954492181498188, 0.0], [7.754424205218054, 2.211607358881588, 0.0], [7.771877497737997, 2.2273336821416218, 0.0], [7.789330790257941, 2.2426245400937477, 0.0], [7.806784082777884, 2.257476444311504, 0.0]], "x_axis": {"start": [1.0, 0.0, 0.0], "end": [7.783185307179586, 0.0, 0.0]}, "y_axis": {"start": [1.0, -2.0, 0.0], "end": [1.0, 2.0, 0.0]}}}
    </script>

    <script>
        // --- Basic Three.js Setup ---
        const container = document.getElementById('container');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x111111);

        const aspect = window.innerWidth / window.innerHeight;
        const frustumSize = 10;
        const camera = new THREE.OrthographicCamera(
            frustumSize * aspect / -2,
            frustumSize * aspect / 2,
            frustumSize / 2,
            frustumSize / -2,
            1,
            1000
        );
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const manimObjects = new THREE.Group();
        scene.add(manimObjects);

        const angleSlider = document.getElementById('angle_slider');
        const angleLabel = document.querySelector('label[for="angle_slider"]');

        let angle = 0;
        let interactiveElements = null;

        // --- Helper Functions ---
        function createLine(points, color = 0xffffff) {
            const material = new THREE.LineBasicMaterial({ color: color });
            const geometry = new THREE.BufferGeometry();
            const vertices = new Float32Array(points.flat());
            geometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));
            return new THREE.Line(geometry, material);
        }

        // --- Main Logic ---
        const embeddedData = JSON.parse(document.getElementById('scene-data').textContent);
        
        drawStaticScene(embeddedData);
        setupInteractiveElements(embeddedData);
        animate();

        function drawStaticScene(data) {
            camera.position.set(0, 0, 5);
            camera.lookAt(scene.position);

            const uc = data.unit_circle;
            const circleGeo = new THREE.BufferGeometry().setFromPoints(
                new THREE.Path().absarc(uc.center[0], uc.center[1], uc.radius, 0, Math.PI * 2, false).getPoints(90)
            );
            const circle = new THREE.Line(circleGeo, new THREE.LineBasicMaterial({ color: 0x448aff }));
            manimObjects.add(circle);
            manimObjects.add(createLine([uc.x_axis.start, uc.x_axis.end], 0xaaaaaa));
            manimObjects.add(createLine([uc.y_axis.start, uc.y_axis.end], 0xaaaaaa));

            const sg = data.sine_graph;
            manimObjects.add(createLine(sg.points, 0xffc107));
            manimObjects.add(createLine([sg.x_axis.start, sg.x_axis.end], 0xaaaaaa));
            manimObjects.add(createLine([sg.y_axis.start, sg.y_axis.end], 0xaaaaaa));
        }

        function setupInteractiveElements(data) {
            const uc = data.unit_circle;

            const pointOnCircle = new THREE.Mesh(new THREE.CircleGeometry(0.08, 32), new THREE.MeshBasicMaterial({ color: 0xffffff }));
            const radiusLine = createLine([uc.center, [uc.center[0] + uc.radius, uc.center[1], 0]], 0xffffff);
            const sinLine = createLine([[0,0,0], [0,0,0]], 0xf44336);
            const cosLine = createLine([[0,0,0], [0,0,0]], 0x2196f3);
            const pointOnSine = new THREE.Mesh(new THREE.CircleGeometry(0.08, 32), new THREE.MeshBasicMaterial({ color: 0xffffff }));
            const connectLine = createLine([[0,0,0], [0,0,0]], 0xaaaaaa);
            connectLine.material.transparent = true;
            connectLine.material.opacity = 0.5;

            interactiveElements = { pointOnCircle, radiusLine, sinLine, cosLine, pointOnSine, connectLine };
            Object.values(interactiveElements).forEach(obj => manimObjects.add(obj));
        }

        function updateScene(angle) {
            const data = embeddedData;
            if (!data || !interactiveElements) return;

            const uc = data.unit_circle;
            const sg = data.sine_graph;
            const rad = angle * (Math.PI / 180);

            const x_pos = uc.center[0] + uc.radius * Math.cos(rad);
            const y_pos = uc.center[1] + uc.radius * Math.sin(rad);
            interactiveElements.pointOnCircle.position.set(x_pos, y_pos, 0);

            const radiusPositions = interactiveElements.radiusLine.geometry.attributes.position;
            radiusPositions.setXYZ(0, uc.center[0], uc.center[1], 0);
            radiusPositions.setXYZ(1, x_pos, y_pos, 0);
            radiusPositions.needsUpdate = true;

            const sinLinePos = interactiveElements.sinLine.geometry.attributes.position;
            sinLinePos.setXYZ(0, x_pos, y_pos, 0);
            sinLinePos.setXYZ(1, x_pos, uc.center[1], 0);
            sinLinePos.needsUpdate = true;

            const cosLinePos = interactiveElements.cosLine.geometry.attributes.position;
            cosLinePos.setXYZ(0, x_pos, y_pos, 0);
            cosLinePos.setXYZ(1, uc.center[0], y_pos, 0);
            cosLinePos.needsUpdate = true;

            const sine_x = sg.origin[0] + rad;
            const sine_y = sg.origin[1] + Math.sin(rad) * uc.radius;
            interactiveElements.pointOnSine.position.set(sine_x, sine_y, 0);
            
            const connectLinePos = interactiveElements.connectLine.geometry.attributes.position;
            connectLinePos.setXYZ(0, y_pos, x_pos, 0);
            connectLinePos.setXYZ(1, sine_x, sine_y, 0);
            connectLinePos.needsUpdate = true;
        }

        function animate() {
            requestAnimationFrame(animate);
            const currentAngle = parseFloat(angleSlider.value);
            angle = currentAngle;
            angleLabel.textContent = `θ = ${(angle * (Math.PI / 180)).toFixed(2)} rad`;
            updateScene(angle);
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            const aspect = window.innerWidth / window.innerHeight;
            camera.left = frustumSize * aspect / -2;
            camera.right = frustumSize * aspect / 2;
            camera.top = frustumSize / 2;
            camera.bottom = frustumSize / -2;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }, false);
    </script>
</body>
</html>
